[toc]

# VPS

| server     | IP             | key                | port        |      |
| ---------- | -------------- | ------------------ | ----------- | ---- |
| FQ2017-ss4 | 192.210.178.68 | 4nrTki1YcCL1yL681T | 443:1992919 |      |
| aliyun     | 47.243.126.193 | Zzj1992919         | 443:FQ2021  |      |

陈慧 2-13 240

刘杰 3-15 240

肖泰 10-15

黄恬 4-12 450

| server   | IP                           | 备注   |
| -------- | ---------------------------- | ------ |
| zetor.ml | 47.243.126.193               | aliyun |
| zetor.cf |                              |        |
| zetor.ga |                              |        |
| zetor.gq | xr-fly.fly.dev               | fly.io |
| zecdn.tk | 192.210.178.68               | FQ2017 |
| zecdn.ml | v2r-hero.herokuapp.com       | heroku |
| zecdn.gq | 155.248.177.200              | oracle |
| zeora.tk | xr-koyeb-183465355.koyeb.app | koyeb  |
| zenas.tk |                              |        |

| 节点     | 链接                                                         |
| -------- | ------------------------------------------------------------ |
| FQ2017   | trojan-go://1992919@2606:4700:83b9:700d:c277:9911:6ad2:31fc:443/?sni=zecdn.tk&type=ws&host=zecdn.tk&path=%2Fzewebsocket&encryption=none#2606:4700:83b9:700d:c277:9911:6ad2:31fc |
| ^^       | trojan-go://1992919@2a06:98c1:3121:a3f6:4384:cf33:3031:5ee9:443/?sni=zecdn.tk&type=ws&host=zecdn.tk&path=%2Fzewebsocket&encryption=none#2a06:98c1:3121:a3f6:4384:cf33:3031:5ee9 |
| ^^       | trojan-go://1992919@172.67.184.163:443/?sni=zecdn.tk&type=ws&host=zecdn.tk&path=%2Fzewebsocket&encryption=none#172.67.184.163 |
| ^^       | trojan-go://1992919@162.159.204.212:443/?sni=zecdn.tk&type=ws&host=zecdn.tk&path=%2Fzewebsocket&encryption=none#162.159.204.212 |
| ^^       | trojan-go://1992919@zecdn.tk:443/?sni=zecdn.tk&type=ws&host=zecdn.tk&path=%2Fzewebsocket&encryption=none#zecdn.tk |
| aliyun   | trojan-go://1992919@zetor.ml:443/?sni=zetor.ml&type=ws&host=zetor.ml&path=%2Fzewebsocket&encryption=none#zetor.ml |
| heroku   | vmess://eyJ2IjoiMiIsInBzIjoidjJyLWhlcm8iLCJhZGQiOiIyNjA2OjQ3MDA6ODNiOTo3MDBkOmMyNzc6OTkxMTo2YWQyOjMxZmMiLCJwb3J0IjoiNDQzIiwiaWQiOiJhZDgwNjQ4Ny0yZDI2LTQ2MzYtOThiNi1hYmNkY2M4NTIxZjciLCJob3N0IjoiemVjZG4ubWwiLCJwYXRoIjoiLyIsIm5ldCI6IndzIiwic2VjdXJpdHkiOiJhdXRvIiwidGxzIjoidGxzIiwic25pIjoiemVjZG4ubWwifQ== |
| koyeb    | vmess://eyJwcyI6InhyLWtveWViIiwiYWRkIjoiMTcyLjY0Ljg2LjI0IiwicG9ydCI6IjQ0MyIsImlkIjoiYWQ4MDY0ODctMmQyNi00NjM2LTk4YjYtYWI4NWNjODUyMWY3IiwiYWlkIjoiMCIsIm5ldCI6IndzIiwidHlwZSI6IiIsImhvc3QiOiJ4ci1rb3llYi0xODM0NjUzNTUua295ZWIuYXBwIiwicGF0aCI6Ii9hZDgwNjQ4Ny0yZDI2LTQ2MzYtOThiNi1hYjg1Y2M4NTIxZjctdm1lc3MiLCJ0bHMiOiJ0bHMiLCJhbGxvd0luc2VjdXJlIjpmYWxzZSwidiI6IjIiLCJwcm90b2NvbCI6InZtZXNzIn0 |
| fly.io   | vmess://eyJwcyI6InhyLWZseSIsImFkZCI6InhyLWZseS5mbHkuZGV2IiwicG9ydCI6IjQ0MyIsImlkIjoiYWQ4MDY0ODctMmQyNi00NjM2LTk4YjYtYWI4NWNjODUyMWY3IiwiYWlkIjoiMCIsIm5ldCI6IndzIiwidHlwZSI6IiIsImhvc3QiOiJ4ci1mbHkuZmx5LmRldiIsInBhdGgiOiIvYWQ4MDY0ODctMmQyNi00NjM2LTk4YjYtYWI4NWNjODUyMWY3LXZtZXNzIiwidGxzIjoidGxzIiwiYWxsb3dJbnNlY3VyZSI6ZmFsc2UsInYiOiIyIiwicHJvdG9jb2wiOiJ2bWVzcyJ9 |
| oracle   | trojan-go://1992919@2606:4700:83b9:700d:c277:9911:6ad2:31fc:443/?sni=zecdn.gq&type=ws&host=zecdn.gq&path=%2Fzewebsocket&encryption=none#oracle-2606:4700:83b9:700d:c277:9911:6ad2:31fc |
| fastssh  | vmess://eyJhZGQiOiJkeW5hbWljLXNnMmIub2Jmcy54eXoiLCJhaWQiOiIwIiwiaWQiOiIwNGIwODk5MC05NzExLTQzOTMtODgyZS0wMjE5OWJlMDI1ZGEiLCJob3N0IjoiIiwibmV0Ijoid3MiLCJwYXRoIjoiL2Zhc3Rzc2giLCJwb3J0IjoiNDQzIiwicHMiOiJkeW5hbWljLXNnMmIub2Jmcy54eXoiLCJ0bHMiOiJ0bHMiLCJ0eXBlIjoibm9uZSIsInYiOiIyIn0= |
| howdy.id | trojan://d9117d90-c43f-11ec-ac96-1239d0255272@sg6-trojan.bonds.id:443/ |

# libev

apt-get update

apt-get install -y wget

apt-get install -y virt-what

wget --no-check-certificate -O shadowsocks-libev-debian.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.sh chmod +x shadowsocks-libev-debian.sh ./shadowsocks-libev-debian.sh 2>&1 | tee shadowsocks-libev-debian.log

启动：/etc/init.d/shadowsocks start

停止：/etc/init.d/shadowsocks stop

重启：/etc/init.d/shadowsocks restart

查看状态：/etc/init.d/shadowsocks status

# Trojan-go

**更新系统**

yum update -y  #CentOS

apt update -y  #Debian

**安装curl**

yum install -y curl  #CentOS

apt install -y curl  #Debian

**Jrohy的一键Trojan面板脚本**

\#安装/更新

source <(curl -sL https://git.io/trojan-install)

安装完后输入'trojan'可进入管理程序

\#卸载

source <(curl -sL https://git.io/trojan-install) --remove

**更改Trojan-Go配置文件**

找到VPS目录文件 /usr/local/etc/trojan/config.json ，备份一份（若是把类型切换回来可以恢复使用Trojan）

```
"websocket":{        
    "enabled": true,
    "path": "/zewebsocket",
    "host": "zetor.gq"
  },
  "mux":{
  	"enabled": true,
    "concurrency": 8,
    "idle_timeout": 60
  }
```

![](微屁恩.assets/%E6%88%AA%E5%B1%8F2020-09-01-13.29.16.png)

# Go

```
wget –no-check-certificate -O shadowsocks-go.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go.sh
chmod +x shadowsocks-go.sh
./shadowsocks-go.sh 2>&1 | tee shadowsocks-go.log
```

# Python

使用root用户登录，运行以下命令：

wget --no-check-certificate -O shadowsocks.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh chmod +x shadowsocks.sh ./shadowsocks.sh 2>&1 | tee shadowsocks.log

安装完成后，脚本提示如下：

Congratulations, Shadowsocks-python server install completed! Your Server IP        :your_server_ip Your Server Port      :your_server_port Your Password         :your_password Your Encryption Method:your_encryption_method Welcome to visit:https://teddysun.com/342.html Enjoy it!

卸载方法：

使用root用户登录，运行以下命令：

./shadowsocks.sh uninstall

单用户配置文件示例（2015 年 08 月 28 日修正）：

配置文件路径：/etc/shadowsocks.json

{    "server":"0.0.0.0",    "server_port":your_server_port,    "local_address":"127.0.0.1",    "local_port":1080,    "password":"your_password",    "timeout":300,    "method":"your_encryption_method",    "fast_open": false }

多用户多端口配置文件示例（2015 年 08 月 28 日修正）：

配置文件路径：/etc/shadowsocks.json

{    "server":"0.0.0.0",    "local_address":"127.0.0.1",    "local_port":1080,    "port_password":{         "8989":"password0",         "9001":"password1",         "9002":"password2",         "9003":"password3",         "9004":"password4"    },    "timeout":300,    "method":"your_encryption_method",    "fast_open": false }

使用命令（2015 年 08 月 28 日修正）：

启动：/etc/init.d/shadowsocks start

停止：/etc/init.d/shadowsocks stop

重启：/etc/init.d/shadowsocks restart

状态：/etc/init.d/shadowsocks status

# 四合一

使用root用户登录，运行以下命令：

wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh chmod +x shadowsocks-all.sh ./shadowsocks-all.sh 2>&1 | tee shadowsocks-all.log

安装完成后，脚本提示如下

Congratulations, your_shadowsocks_version install completed! Your Server IP        :your_server_ip Your Server Port      :your_server_port Your Password         :your_password Your Encryption Method:your_encryption_method Your QR Code: (For Shadowsocks Windows, OSX, Android and iOS clients) ss://your_encryption_method:your_password@your_server_ip:your_server_port Your QR Code has been saved as a PNG file path: your_path.png Welcome to visit:https://teddysun.com/486.html Enjoy it!

卸载方法

若已安装多个版本，则卸载时也需多次运行（每次卸载一种）

使用root用户登录，运行以下命令：

./shadowsocks-all.sh uninstall

启动脚本

启动脚本后面的参数含义，从左至右依次为：启动，停止，重启，查看状态。

Shadowsocks-Python 版：

/etc/init.d/shadowsocks-python start | stop | restart | status

ShadowsocksR 版：

/etc/init.d/shadowsocks-r start | stop | restart | status

Shadowsocks-Go 版：

/etc/init.d/shadowsocks-go start | stop | restart | status

Shadowsocks-libev 版：

/etc/init.d/shadowsocks-libev start | stop | restart | status

各版本默认配置文件

Shadowsocks-Python 版：

/etc/shadowsocks-python/config.json

ShadowsocksR 版：

/etc/shadowsocks-r/config.json

Shadowsocks-Go 版：

/etc/shadowsocks-go/config.json

Shadowsocks-libev 版：

/etc/shadowsocks-libev/config.json

# Net Speeder

**Debian/Ubuntu 一键包**

wget --no-check-certificate https://raw.githubusercontent.com/ytzong/debian_netspeeder_tennfy/master/debian_netspeeder_tennfy.sh

chmod a+x debian_netspeeder_tennfy.sh

bash debian_netspeeder_tennfy.sh

**查看 net-speeder 是否运行**

ps aux|grep net_speeder|grep -v grep

**停止net-speeder**

killall net_speeder

**启动net-speeder（OPENVZ环境）**

nohup /root/net_speeder venet0 "ip" >/dev/null 2>&1 &

# OpenVZ 魔改 BBR - lkl-rinetd 一键脚本

适用于 单网卡（单 IP） 服务器：

wget --no-check-certificate https://github.com/tcp-nanqinlang/lkl-rinetd/releases/download/1.1.0/tcp_nanqinlang-rinetd-debianorubuntu-nocheckvirt.sh

chmod a+x tcp_nanqinlang-rinetd-debianorubuntu.sh

bash tcp_nanqinlang-rinetd-debianorubuntu.sh

# 一键BBR

<font color=red>**使用方法**</font>

使用root用户登录，运行以下命令：

wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh && chmod +x bbr.sh && ./bbr.sh

安装完成后，脚本会提示需要重启 VPS，输入 y 并回车后重启。

重启完成后，进入 VPS，验证一下是否成功安装最新内核并开启 TCP BBR，输入以下命令：

uname -r

查看内核版本，显示为最新版就表示 OK 了

sysctl net.ipv4.tcp_available_congestion_control

返回值一般为：

net.ipv4.tcp_available_congestion_control = bbr cubic reno

或者为：

net.ipv4.tcp_available_congestion_control = reno cubic bbr

sysctl net.ipv4.tcp_congestion_control

返回值一般为：

net.ipv4.tcp_congestion_control = bbr

sysctl net.core.default_qdisc

返回值一般为：

net.core.default_qdisc = fq

lsmod | grep bbr

返回值有 tcp_bbr 模块即说明 bbr 已启动。注意：并不是所有的 VPS 都会有此返回值，若没有也属正常。

<font color=red>**CentOS 下最新版内核 headers 安装方法**</font>

本来打算在脚本里直接安装 kernel-ml-headers，但会出现和原版内核 headers 冲突的问题。因此在这里添加一个脚本执行完后，手动安装最新版内核 headers 之教程。

执行以下命令

yum --enablerepo=elrepo-kernel -y install kernel-ml-headers

根据 CentOS 版本的不同，此时一般会出现类似于以下的错误提示：

Error: kernel-ml-headers conflicts with kernel-headers-2.6.32-696.20.1.el6.x86_64 Error: kernel-ml-headers conflicts with kernel-headers-3.10.0-693.17.1.el7.x86_64

因此需要先卸载原版内核 headers ，然后再安装最新版内核 headers。执行命令：

yum remove kernel-headers

确认无误后，输入 y，回车开始卸载。注意，有时候这么操作还会卸载一些对内核 headers 依赖的安装包，比如 gcc、gcc-c++ 之类的。不过不要紧，我们可以在安装完最新版内核 headers 后再重新安装回来即可。

卸载完成后，再次执行上面给出的安装命令。

yum --enablerepo=elrepo-kernel -y install kernel-ml-headers

成功安装后，再把那些之前对内核 headers 依赖的安装包，比如 gcc、gcc-c++ 之类的再安装一次即可。

为什么要安装最新版内核 headers 呢？

这是因为 shadowsocks-libev 版有个 tcp fast open 功能，如果不安装的话，这个功能是无法开启的。

<font color=red>**内核升级方法**</font>

**如果是 CentOS 系统，执行如下命令即可升级内核：**

yum -y install kernel-ml kernel-ml-devel

如果你还手动安装了新版内核 headers ，那么还需要以下命令来升级 headers ：

yum -y install kernel-ml-headers

CentOS 6 的话，执行命令：

sed -i 's/^default=.*/default=0/g' /boot/grub/grub.conf

CentOS 7 的话，执行命令：

grub2-set-default 0

**如果是 Debian/Ubuntu 系统，则需要手动下载最新版内核来安装升级。**

去[这里](http://kernel.ubuntu.com/~kernel-ppa/mainline/)下载最新版的内核 deb 安装包。

如果系统是 64 位，则下载 amd64 的 linux-image 中含有 generic 这个 deb 包；

如果系统是 32 位，则下载 i386 的 linux-image 中含有 generic 这个 deb 包；

安装的命令如下（以最新版的 64 位 4.12.4 举例而已，请替换为下载好的 deb 包）：

dpkg -i linux-image-4.12.4-041204-generic_4.12.4-041204.201707271932_amd64.deb

安装完成后，再执行命令：

/usr/sbin/update-grub

最后，重启 VPS 即可。

<font color=red>**特别说明**</font>

如果你使用的是 Google Cloud Platform （GCP）更换内核，有时会遇到重启后，整个磁盘变为只读的情况。只需执行以下命令即可恢复：

mount -o remount rw /

**Debian≥9 或是 CentOS≥8 以上的系统开启BBR**

echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf

echo "net.ipv4.tcp_congestion_control=bbr" >> /etc/sysctl.conf

sysctl -p

lsmod | grep bbr

# 一键开启BBR2

​                wget -N --no-check-certificate "https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh" chmod +x tcp.sh ./tcp.sh              

# 杀掉Flash

@echo off

taskkill /f /t /im FlashHelperService.exe

ping 127.0.0.1

del /f /s /q C:\Windows\SysWOW64\Macromed\Flash\FlashHelperService.exe

Reg delete "HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Internet Explorer\MAIN\FeatureControl\FEATURE_BROWSER_EMULATION" /v "FlashHelperService" /f

Reg delete "HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\services\Flash Helper Service" /f

Reg delete "HKEY_LOCAL_MACHINE\SYSTEM\ControlSet002\services\Flash Helper Service" /f

pause

# Screen

apt-get install screen 

screen -S ss1

\#恢复 screen -r ss1 

\#退出 exit

\1. [**碳云**](https://www.coalcloud.net/aff.php?aff=134)**：**国人商家，NAT VPS很出名，年付NAT VPS经常没货，也提供VDS和游戏加速的游戏云，性价比很高。购买机器需支付宝人脸认证实名，略麻烦。官网：[https://www.coalcloud.net/](https://www.coalcloud.net/aff.php?aff=134)；

\2. [异株湖](https://www.eve.bz/aff.php?aff=10)：国人新商家（请自行判断是否灵车），提供美国安畅机房CN2线路VPS，也提供国内NAT VPS、独服等产品。无需实名，相对来说机器配置好，性价比高。官网：[https://www.eve.bz](https://www.eve.bz/aff.php?aff=10)；

\3. [AkkoCloud](https://www.akkocloud.com/aff.php?aff=122)：真·二次云，官网浓浓的二次元风格，卖萌撒娇。主营业务众多，美西CN2 GIA年付VPS很给力，也提供国内大带宽NAT VPS和独服。官网：[https://www.akkocloud.com](https://www.akkocloud.com/aff.php?aff=122)；

\4. [云筏科技](https://www.cloudraft.cn/aff.php?aff=161)：2019年成立的国人商家，国内业务主要是面向专业/科研领域的云计算、高性能计算，也提供虚拟主机、CDN服务；国外业务主要是大容量、大流量、高IO的KVM/NAT VPS，性价比很高。官网：[https://www.cloudraft.cn](https://www.cloudraft.cn/aff.php?aff=161)；

\5. [CloudIPLC](https://www.cloudiplc.com/aff.php?aff=512)：从名字就可以看出，这家主营IPLC线路VPS，购买国内机器需要实名，官网：[https://www.cloudiplc.com](https://www.cloudiplc.com/aff.php?aff=512)；

\6. [OLVPS](https://olvps.com/aff.php?aff=446)：国内知名的NAT VPS商家，也提供OpenVZ和KVM VPS。原官网 t667.com 已被污染，目前可直接打开官网：[https://olvps.com/](https://olvps.com/aff.php?aff=446)；

\7. [UOvZ](https://www.uovz.com/aff.php?aff=1133)：国人vps商家，主营国内外vps，也提供独服、IPLC和NAT VPS。官网：[https://www.uovz.com](https://www.uovz.com/aff.php?aff=1133)。

# Firewalld

## Firewalld安装

yum install -y firewalld systemctl enable firewalld systemctl start firewalld

## Firewalld转发

echo 'net.ipv4.ip_forward = 1' >> /etc/sysctl.conf sysctl -p firewall-cmd --permanent --add-masquerade # 8080可以改成其他端口 firewall-cmd --permanent --add-port=8080/tcp firewall-cmd --permanent --add-port=8080/udp # 8080和上面保持一致，国外ip改成你国外vps的ip，443改成国外ss/ssr/v2ray等软件的端口 firewall-cmd --permanent --add-forward-port=port=8080:proto=tcp:toaddr=107.172.79.133:toport=2018 firewall-cmd --permanent --add-forward-port=port=8080:proto=udp:toaddr=107.172.79.133:toport=2018 firewall-cmd --reload

# iptables

**iptables-persistent工具**

首先，安装：

apt-get install iptables-persistent

保存当前设置的iptables防火墙规则

iptables-save > /etc/iptables/rules.v4

**netfilter-persistent  选项(start|stop|restart|reload|flush|save)**

start：启动目录/etc/iptables/下rules.v4和rules.v6（如果有）文件里面的规则

stop：启动目录/etc/iptables/下rules.v4和rules.v6（如果有）文件里面的规则，暂时不可用，被flush选项取代

restart：从新启动目录/etc/iptables/下rules.v4和rules.v6（如果有）文件里面的规则

reload：从新加载动目录/etc/iptables/下rules.v4和rules.v6（如果有）文件里面的规则

flush：清楚防火墙的规则，但是不会清空/etc/iptables/下rules.v4和rules.v6（如果有）文件里面的规则

**netfilter-persistent** save：保持防火墙的规则，会清空/etc/iptables/下rules.v4和rules.v6（如果有）文件里面的规则，并从新写入防火墙现有的规则

**iptables**

-A往后插入 -I往前插入

**1#查看**

iptables -L

**2#清空配置**

iptables -F

iptables -X

iptables -Z

iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

iptables -A INPUT -i lo -j ACCEPT

**3#允许ping**

iptables -A INPUT -p icmp -j ACCEPT

**4#允许ssh**

iptables -A INPUT -p tcp --dport 22 -j ACCEPT

**5#允许单IP访问**

iptables -A INPUT -s 223.111.134.158 -j ACCEPT

iptables -A INPUT -s 119.188.248.250 -j ACCEPT

**5.1#允许单端口访问**

iptables -A INPUT -p tcp --dport 2018 -j ACCEPT

**6#禁止其他未允许的规则访问**

iptables -P INPUT DROP



\#允许单个IP的命令

iptables -A INPUT -s 223.111.134.158 -j ACCEPT

iptables -I INPUT -s 223.111.134.158 -p tcp --dport 50070 -j ACCEPT

\#禁止其他未允许的规则访问（注意：如果22端口未加入允许规则，SSH链接会直接断开。）

iptables -A INPUT -j REJECT;iptables -A FORWARD -j REJECT

！！！###配置，禁止进，允许出，允许回环网卡

iptables -P INPUT DROP

iptables -A OUTPUT -j ACCEPT

iptables -A INPUT -i lo -j ACCEPT

\#允许ftp

iptables -A INPUT -p tcp --dport 21 -j ACCEPT

iptables -A INPUT -p tcp --dport 80 -j ACCEPT



https://blog.hiaoxui.com/blog/hiaoxui

iptables -A INPUT -m ttl --ttl-gt 80 -j ACCEPT

iptables -A INPUT -p icmp -j ACCEPT

iptables _A INPUT -p tcp --dport 22 -j ACCEPT

iptables -A INPUT -i lo -j ACCEPT

iptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT

iptables -A INPUT -s 1.2.3.4 -j ACCEPT

iptables -P INPUT DROP

# DNSMASQ

apt-get update

apt-get install sudo

apt-get install vim

\#安装dnsmasq

wget http://www.thekelleys.org.uk/dnsmasq/dnsmasq-2.81.tar.gz

tar zxvf dnsmasq-2.81.tar.gz

cd dnsmasq-2.81

make install

\#

\#apt-get install ipset

apt-get install dnsutils

\#查看dnsmasq是否支持ipset

dnsmasq -v

\#编辑/etc/dnsmasq.conf

server=/.com/114.114.114.114

server=/.cm/114.114.114.114

server=/.xyz/114.114.114.114

ipset=/yahoo.com/google.com/setmefree

ipset=/.node.cm/setmefree

\#

ipset create setmefree hash:ip

ipset list

dnsmasq -C /etc/dnsmasq.conf

/etc/init.d/dnsmasq restart

sed -i 's/net.ipv4.ip_forward = 0/net.ipv4.ip_forward = 1/' /etc/sysctl.conf sysctl -p

nslookup czx01.ct.node.cm

ipset list vpn

iptables -t nat -A INPUT -m set --match-set setmefree dst -j ACCEPT

# 删除阿里云盾

wget http://update.aegis.aliyun.com/download/uninstall.sh

chmod +x uninstall.sh

./uninstall.sh

wget http://update.aegis.aliyun.com/download/quartz_uninstall.sh

chmod +x quartz_uninstall.sh

./quartz_uninstall.sh

**删除残留**

pkill aliyun-service rm -fr /etc/init.d/agentwatch /usr/sbin/aliyun-service rm -rf /usr/local/aegis*

**屏蔽云盾 IP（直接执行下面代码，或者通过面板管理）**

iptables -I INPUT -s 140.205.201.0/28 -j DROP iptables -I INPUT -s 140.205.201.16/29 -j DROP iptables -I INPUT -s 140.205.201.32/28 -j DROP iptables -I INPUT -s 140.205.225.192/29 -j DROP iptables -I INPUT -s 140.205.225.200/30 -j DROP iptables -I INPUT -s 140.205.225.184/29 -j DROP iptables -I INPUT -s 140.205.225.183/32 -j DROP iptables -I INPUT -s 140.205.225.206/32 -j DROP iptables -I INPUT -s 140.205.225.205/32 -j DROP iptables -I INPUT -s 140.205.225.195/32 -j DROP iptables -I INPUT -s 140.205.225.204/32 -j DROP

iptables -I INPUT -s 106.11.224.0/26 -j DROP iptables -I INPUT -s 106.11.224.64/26 -j DROP iptables -I INPUT -s 106.11.224.128/26 -j DROP iptables -I INPUT -s 106.11.224.192/26 -j DROP iptables -I INPUT -s 106.11.222.64/26 -j DROP iptables -I INPUT -s 106.11.222.128/26 -j DROP iptables -I INPUT -s 106.11.222.192/26 -j DROP iptables -I INPUT -s 106.11.223.0/26 -j DROP

# Oracle

centos 默认登录账户是 opc

## 手动转换成CentOS Stream 8

```
dnf --disablerepo '*' --enablerepo=extras swap centos-linux-repos centos-stream-repos
sudo dnf distro-sync
dnf install **python3-librepo**
yum update
```

## 卸载Oracle自带监控

Oracle 的云主机自带了不少的监控进程，有时会赞成主机卡顿的情况，我们可以通过以下方法卸载它们：

```
systemctl stop oracle-cloud-agent
systemctl disable oracle-cloud-agent
systemctl stop oracle-cloud-agent-updater
systemctl disable oracle-cloud-agent-updater
```

## ipv6

服务器重启后，IPv6不会动态获取！那么执行下面的脚本。把获取IPv6的命令写到开机启动！

```
chmod +x /etc/rc.d/rc.local
echo "dhclient -6 ens3" >> /etc/rc.d/rc.local
```