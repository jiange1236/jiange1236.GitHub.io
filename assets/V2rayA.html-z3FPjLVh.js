import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,d as e}from"./app-DoNtQ8uA.js";const t={},n=e(`<h1 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h1><p>本节介绍如何在 Windows 上安装 v2rayA。需要注意的是，目前在 Windows 上仅支持一键配置系统代理而非透明代理。</p><h2 id="使用安装包一键安装" tabindex="-1"><a class="header-anchor" href="#使用安装包一键安装"><span>使用安装包一键安装</span></a></h2><p>安装包将内置 v2ray-core，如需更换 Xray-core，可在安装完毕后于安装目录手动进行替换。</p><p>从 <a href="https://github.com/v2rayA/v2rayA/releases" target="_blank" rel="noopener noreferrer">GitHub Releases</a> 下载适用于 Windows 的安装包，例如 installer_windows_x64_1.5.6.exe，按照指示安装完毕即可。可运行桌面快捷方式或直接访问 http://127.0.0.1:2017 打开管理页面。</p><p>通过安装包安装 v2rayA 后，v2rayA 将以服务的形式运行，默认情况下将开机自启。你也可以在任务管理器中的“服务”选项卡管理 v2rayA 的启动与停止。</p><h2 id="手动安装核心和-v2raya" tabindex="-1"><a class="header-anchor" href="#手动安装核心和-v2raya"><span>手动安装核心和 v2rayA</span></a></h2><p>v2rayA 目前不支持 TUN，因此 Windows 之上的透明代理无法启用。安全起见，下面将以普通用户权限来运行 v2rayA。</p><p>建议从 scoop 安装 v2ray 核心，这样你可以很容易地获取后续更新。可以通过 <a href="https://github.com/qv2ray/mochi" target="_blank" rel="noopener noreferrer">Qv2ray 的 Mochi 仓库</a> 安装核心。不过注意，如果你从 scoop 安装了核心，那么你应该使用实际的核心文件，而不是 <code>scoop\\shims</code> 下的外壳，否则将造成内核重启失败故障。</p><h3 id="下载-v2raya" tabindex="-1"><a class="header-anchor" href="#下载-v2raya"><span>下载 v2rayA</span></a></h3><p>从 <a href="https://github.com/v2rayA/v2rayA/releases" target="_blank" rel="noopener noreferrer">GitHub Releases</a> 或 GitHub Action 下载适用于 Windows 的二进制文件，然后重命名为 <code>v2raya.exe</code>（格外注意 Windows 系统下不能丢失扩展名）。</p><h3 id="下载-v2ray-核心-xray-核心" tabindex="-1"><a class="header-anchor" href="#下载-v2ray-核心-xray-核心"><span>下载 V2Ray 核心 / Xray 核心</span></a></h3><h4 id="方法一-从-scoop-安装" tabindex="-1"><a class="header-anchor" href="#方法一-从-scoop-安装"><span>方法一：从 scoop 安装</span></a></h4><div class="language-ps1 line-numbers-mode" data-highlighter="shiki" data-ext="ps1" data-title="ps1" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">scoop install v2ray  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">## 或者安装 xray</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="方法二-手动下载安装" tabindex="-1"><a class="header-anchor" href="#方法二-手动下载安装"><span>方法二：手动下载安装</span></a></h4><blockquote><p>安装 V2Ray：https://www.v2fly.org/guide/install.html 安装 Xray：https://xray.sh/document/install.html</p></blockquote><p>下载压缩包之后解压即可。</p><h3 id="运行-v2raya" tabindex="-1"><a class="header-anchor" href="#运行-v2raya"><span>运行 v2rayA</span></a></h3><p>以下假设 v2rayA 与核心都保存到了 D 盘的对应文件夹，如果你文件的存放位置不是这些文件夹，那么你需要根据实际情况修改命令或配置文件。</p><h4 id="直接运行" tabindex="-1"><a class="header-anchor" href="#直接运行"><span>直接运行</span></a></h4><div class="language-ps1 line-numbers-mode" data-highlighter="shiki" data-ext="ps1" data-title="ps1" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">D:\\v2rayA\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">v2raya.exe</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">lite </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">v2ray</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">bin </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;D:\\v2ray\\v2ray.exe&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="作为服务运行" tabindex="-1"><a class="header-anchor" href="#作为服务运行"><span>作为服务运行</span></a></h4><p>使用 <a href="https://github.com/winsw/winsw/" target="_blank" rel="noopener noreferrer">WinSW</a> 可以将 v2rayA 作为服务运行并自动开机启动。</p><p>下载 WinSW（版本随意，不过 Windows 10 用户使用 <code>WinSW-net461.exe</code> 这个版本即可）的 3.x 版本，然后将其重命名为 <code>v2raya-service.exe</code> 并放入 v2rayA 所在的文件夹下面。</p><p>在 v2rayA 所在文件夹下新建 <code>v2raya-service.xml</code> 然后编辑：</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">service</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;org.v2raya.v2raya&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;v2rayA&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;This service runs v2rayA.&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">executable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;D:\\v2rayA\\v2raya.exe&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">executable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;--lite --v2ray-bin=D:\\v2ray\\v2ray.exe&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">log</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;roll&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">delayedAutoStart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;true&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">delayedAutoStart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">onfailure</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> action</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;restart&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> delay</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;10 sec&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">onfailure</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> action</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;restart&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> delay</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;20 sec&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">serviceaccount</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">username</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;.\\YourUserName&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">username</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;YourPassword&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">allowservicelogon</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;true&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">allowservicelogon</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">serviceaccount</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">service</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此处的用户名是你显示在“计算机管理”中的用户名，而非在控制面板或系统设置里面看到的完整用户名。密码是你的本地账户密码或者微软账户密码。</p><p>保存文件，然后运行：</p><div class="language-ps1 line-numbers-mode" data-highlighter="shiki" data-ext="ps1" data-title="ps1" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">cd D:\\v2rayA</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">v2raya-service.exe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> install</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">v2raya-service.exe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>操作需要管理员权限。在 v2rayA 所在目录下可以查看日志文件。</p><h4 id="后台运行-使用-powershell-的隐藏窗口功能" tabindex="-1"><a class="header-anchor" href="#后台运行-使用-powershell-的隐藏窗口功能"><span>后台运行（使用 PowerShell 的隐藏窗口功能）：</span></a></h4><div class="language-ps1 line-numbers-mode" data-highlighter="shiki" data-ext="ps1" data-title="ps1" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">Start-Process</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;D:\\v2rayA\\v2raya.exe&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Arg </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;--lite --v2ray-bin &#39;D:\\v2ray\\v2ray.exe&#39; &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">WindowStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Hidden</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="后台运行-使用-conemu" tabindex="-1"><a class="header-anchor" href="#后台运行-使用-conemu"><span>后台运行（使用 ConEmu）</span></a></h4><p><a href="https://conemu.github.io/" target="_blank" rel="noopener noreferrer">ConEmu</a> 是一个 Windows 下的终端程序，右击它窗口上的最小化按钮可以让它把窗口最小化到托盘区。在 ConEmu 中的 PowerShell 会话中使用 <a href="https://v2raya.org/docs/prologue/installation/windows/#%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C" target="_blank" rel="noopener noreferrer">直接运行</a> 项里面提到的命令运行 v2rayA 即可。</p><h2 id="其它" tabindex="-1"><a class="header-anchor" href="#其它"><span>其它</span></a></h2><p>Scoop 源：https://github.com/v2raya/v2raya-scoop</p><p>你可以通过 <a href="https://scoop.sh/" target="_blank" rel="noopener noreferrer">Scoop</a> 安装 v2rayA，安装完成后可以直接通过 <code>v2raya</code> 命令运行。</p>`,37),l=[n];function h(r,p){return a(),i("div",null,l)}const o=s(t,[["render",h],["__file","V2rayA.html.vue"]]),c=JSON.parse('{"path":"/tech/V2rayA.html","title":"Windows","lang":"zh-CN","frontmatter":{"description":"Windows 本节介绍如何在 Windows 上安装 v2rayA。需要注意的是，目前在 Windows 上仅支持一键配置系统代理而非透明代理。 使用安装包一键安装 安装包将内置 v2ray-core，如需更换 Xray-core，可在安装完毕后于安装目录手动进行替换。 从 GitHub Releases 下载适用于 Windows 的安装包，例如 ...","head":[["meta",{"property":"og:url","content":"https://zecdn.top/tech/V2rayA.html"}],["meta",{"property":"og:site_name","content":"Zeblog"}],["meta",{"property":"og:title","content":"Windows"}],["meta",{"property":"og:description","content":"Windows 本节介绍如何在 Windows 上安装 v2rayA。需要注意的是，目前在 Windows 上仅支持一键配置系统代理而非透明代理。 使用安装包一键安装 安装包将内置 v2ray-core，如需更换 Xray-core，可在安装完毕后于安装目录手动进行替换。 从 GitHub Releases 下载适用于 Windows 的安装包，例如 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-07T05:03:50.000Z"}],["meta",{"property":"article:author","content":"Zine⁶"}],["meta",{"property":"article:modified_time","content":"2024-06-07T05:03:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Windows\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-07T05:03:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Zine⁶\\",\\"url\\":\\"https://zecdn.top\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://zecdn.top/atom.xml","title":"Zeblog Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://zecdn.top/feed.json","title":"Zeblog JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://zecdn.top/rss.xml","title":"Zeblog RSS Feed"}]],"date":"2022-05-14T15:59:13.000Z"},"headers":[{"level":2,"title":"使用安装包一键安装","slug":"使用安装包一键安装","link":"#使用安装包一键安装","children":[]},{"level":2,"title":"手动安装核心和 v2rayA","slug":"手动安装核心和-v2raya","link":"#手动安装核心和-v2raya","children":[{"level":3,"title":"下载 v2rayA","slug":"下载-v2raya","link":"#下载-v2raya","children":[]},{"level":3,"title":"下载 V2Ray 核心 / Xray 核心","slug":"下载-v2ray-核心-xray-核心","link":"#下载-v2ray-核心-xray-核心","children":[]},{"level":3,"title":"运行 v2rayA","slug":"运行-v2raya","link":"#运行-v2raya","children":[]}]},{"level":2,"title":"其它","slug":"其它","link":"#其它","children":[]}],"git":{"createdTime":1652543953000,"updatedTime":1717736630000,"contributors":[{"name":"周子健","email":"183465355@qq.com","commits":3},{"name":"jiange1236","email":"183465355@qq.com","commits":1}]},"readingTime":{"minutes":3,"words":901},"filePathRelative":"tech/V2rayA.md","localizedDate":"2022年5月14日","excerpt":"","autoDesc":true}');export{o as comp,c as data};
