"use strict";(self.webpackChunkZeblog=self.webpackChunkZeblog||[]).push([[8760],{27480:(a,n,s)=>{s.r(n),s.d(n,{default:()=>L});var t=s(4270);const e=(0,t._)("h1",{id:"windows",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#windows","aria-hidden":"true"},"#"),(0,t.Uk)(" Windows")],-1),p=(0,t._)("p",null,"本节介绍如何在 Windows 上安装 v2rayA。需要注意的是，目前在 Windows 上仅支持一键配置系统代理而非透明代理。",-1),l=(0,t._)("h2",{id:"使用安装包一键安装",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#使用安装包一键安装","aria-hidden":"true"},"#"),(0,t.Uk)(" 使用安装包一键安装")],-1),o=(0,t._)("p",null,"安装包将内置 v2ray-core，如需更换 Xray-core，可在安装完毕后于安装目录手动进行替换。",-1),c=(0,t.Uk)("从 "),r={href:"https://github.com/v2rayA/v2rayA/releases",target:"_blank",rel:"noopener noreferrer"},i=(0,t.Uk)("GitHub Releases"),u=(0,t.Uk)(" 下载适用于 Windows 的安装包，例如 installer_windows_x64_1.5.6.exe，按照指示安装完毕即可。可运行桌面快捷方式或直接访问 http://127.0.0.1:2017 打开管理页面。"),d=(0,t._)("p",null,"通过安装包安装 v2rayA 后，v2rayA 将以服务的形式运行，默认情况下将开机自启。你也可以在任务管理器中的“服务”选项卡管理 v2rayA 的启动与停止。",-1),k=(0,t._)("h2",{id:"手动安装核心和-v2raya",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#手动安装核心和-v2raya","aria-hidden":"true"},"#"),(0,t.Uk)(" 手动安装核心和 v2rayA")],-1),v=(0,t._)("p",null,"v2rayA 目前不支持 TUN，因此 Windows 之上的透明代理无法启用。安全起见，下面将以普通用户权限来运行 v2rayA。",-1),g=(0,t.Uk)("建议从 scoop 安装 v2ray 核心，这样你可以很容易地获取后续更新。可以通过 "),h={href:"https://github.com/qv2ray/mochi",target:"_blank",rel:"noopener noreferrer"},y=(0,t.Uk)("Qv2ray 的 Mochi 仓库"),m=(0,t.Uk)(" 安装核心。不过注意，如果你从 scoop 安装了核心，那么你应该使用实际的核心文件，而不是 "),b=(0,t._)("code",null,"scoop\\shims",-1),x=(0,t.Uk)(" 下的外壳，否则将造成内核重启失败故障。"),_=(0,t._)("h3",{id:"下载-v2raya",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#下载-v2raya","aria-hidden":"true"},"#"),(0,t.Uk)(" 下载 v2rayA")],-1),w=(0,t.Uk)("从 "),f={href:"https://github.com/v2rayA/v2rayA/releases",target:"_blank",rel:"noopener noreferrer"},A=(0,t.Uk)("GitHub Releases"),U=(0,t.Uk)(" 或 GitHub Action 下载适用于 Windows 的二进制文件，然后重命名为 "),W=(0,t._)("code",null,"v2raya.exe",-1),q=(0,t.Uk)("（格外注意 Windows 系统下不能丢失扩展名）。"),S=(0,t.uE)('<h3 id="下载-v2ray-核心-xray-核心" tabindex="-1"><a class="header-anchor" href="#下载-v2ray-核心-xray-核心" aria-hidden="true">#</a> 下载 V2Ray 核心 / Xray 核心</h3><h4 id="方法一-从-scoop-安装" tabindex="-1"><a class="header-anchor" href="#方法一-从-scoop-安装" aria-hidden="true">#</a> 方法一：从 scoop 安装</h4><div class="language-ps1 ext-ps1 line-numbers-mode"><pre class="language-ps1"><code>scoop install v2ray  ## 或者安装 xray \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="方法二-手动下载安装" tabindex="-1"><a class="header-anchor" href="#方法二-手动下载安装" aria-hidden="true">#</a> 方法二：手动下载安装</h4><blockquote><p>安装 V2Ray：https://www.v2fly.org/guide/install.html 安装 Xray：https://xray.sh/document/install.html</p></blockquote><p>下载压缩包之后解压即可。</p><h3 id="运行-v2raya" tabindex="-1"><a class="header-anchor" href="#运行-v2raya" aria-hidden="true">#</a> 运行 v2rayA</h3><p>以下假设 v2rayA 与核心都保存到了 D 盘的对应文件夹，如果你文件的存放位置不是这些文件夹，那么你需要根据实际情况修改命令或配置文件。</p><h4 id="直接运行" tabindex="-1"><a class="header-anchor" href="#直接运行" aria-hidden="true">#</a> 直接运行</h4><div class="language-ps1 ext-ps1 line-numbers-mode"><pre class="language-ps1"><code>D:\\v2rayA\\v2raya.exe --lite --v2ray-bin &#39;D:\\v2ray\\v2ray.exe&#39;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="作为服务运行" tabindex="-1"><a class="header-anchor" href="#作为服务运行" aria-hidden="true">#</a> 作为服务运行</h4>',11),E=(0,t.Uk)("使用 "),D={href:"https://github.com/winsw/winsw/",target:"_blank",rel:"noopener noreferrer"},C=(0,t.Uk)("WinSW"),R=(0,t.Uk)(" 可以将 v2rayA 作为服务运行并自动开机启动。"),P=(0,t.uE)('<p>下载 WinSW（版本随意，不过 Windows 10 用户使用 <code>WinSW-net461.exe</code> 这个版本即可）的 3.x 版本，然后将其重命名为 <code>v2raya-service.exe</code> 并放入 v2rayA 所在的文件夹下面。</p><p>在 v2rayA 所在文件夹下新建 <code>v2raya-service.xml</code> 然后编辑：</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>org.v2raya.v2raya<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>v2rayA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>This service runs v2rayA.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executable</span><span class="token punctuation">&gt;</span></span>D:\\v2rayA\\v2raya.exe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executable</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arguments</span><span class="token punctuation">&gt;</span></span>--lite --v2ray-bin=D:\\v2ray\\v2ray.exe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arguments</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roll<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delayedAutoStart</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delayedAutoStart</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onfailure</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>restart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10 sec<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onfailure</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>restart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20 sec<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceaccount</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>.\\YourUserName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>YourPassword<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>allowservicelogon</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>allowservicelogon</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>serviceaccount</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>service</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此处的用户名是你显示在“计算机管理”中的用户名，而非在控制面板或系统设置里面看到的完整用户名。密码是你的本地账户密码或者微软账户密码。</p><p>保存文件，然后运行：</p><div class="language-ps1 ext-ps1 line-numbers-mode"><pre class="language-ps1"><code>cd D:\\v2rayA\n.\\v2raya-service.exe install\n.\\v2raya-service.exe start\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>操作需要管理员权限。在 v2rayA 所在目录下可以查看日志文件。</p><h4 id="后台运行-使用-powershell-的隐藏窗口功能" tabindex="-1"><a class="header-anchor" href="#后台运行-使用-powershell-的隐藏窗口功能" aria-hidden="true">#</a> 后台运行（使用 PowerShell 的隐藏窗口功能）：</h4><div class="language-ps1 ext-ps1 line-numbers-mode"><pre class="language-ps1"><code>Start-Process &quot;D:\\v2rayA\\v2raya.exe&quot; -Arg &quot;--lite --v2ray-bin &#39;D:\\v2ray\\v2ray.exe&#39; &quot; -WindowStyle Hidden\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="后台运行-使用-conemu" tabindex="-1"><a class="header-anchor" href="#后台运行-使用-conemu" aria-hidden="true">#</a> 后台运行（使用 ConEmu）</h4>',10),V={href:"https://conemu.github.io/",target:"_blank",rel:"noopener noreferrer"},H=(0,t.Uk)("ConEmu"),N=(0,t.Uk)(" 是一个 Windows 下的终端程序，右击它窗口上的最小化按钮可以让它把窗口最小化到托盘区。在 ConEmu 中的 PowerShell 会话中使用 "),X={href:"https://v2raya.org/docs/prologue/installation/windows/#%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C",target:"_blank",rel:"noopener noreferrer"},Z=(0,t.Uk)("直接运行"),B=(0,t.Uk)(" 项里面提到的命令运行 v2rayA 即可。"),G=(0,t._)("h2",{id:"其它",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#其它","aria-hidden":"true"},"#"),(0,t.Uk)(" 其它")],-1),T=(0,t._)("p",null,"Scoop 源：https://github.com/v2raya/v2raya-scoop",-1),O=(0,t.Uk)("你可以通过 "),Y={href:"https://scoop.sh/",target:"_blank",rel:"noopener noreferrer"},j=(0,t.Uk)("Scoop"),z=(0,t.Uk)(" 安装 v2rayA，安装完成后可以直接通过 "),F=(0,t._)("code",null,"v2raya",-1),I=(0,t.Uk)(" 命令运行。"),J={},L=(0,s(83744).Z)(J,[["render",function(a,n){const s=(0,t.up)("ExternalLinkIcon");return(0,t.wg)(),(0,t.iD)("div",null,[e,p,l,o,(0,t._)("p",null,[c,(0,t._)("a",r,[i,(0,t.Wm)(s)]),u]),d,k,v,(0,t._)("p",null,[g,(0,t._)("a",h,[y,(0,t.Wm)(s)]),m,b,x]),_,(0,t._)("p",null,[w,(0,t._)("a",f,[A,(0,t.Wm)(s)]),U,W,q]),S,(0,t._)("p",null,[E,(0,t._)("a",D,[C,(0,t.Wm)(s)]),R]),P,(0,t._)("p",null,[(0,t._)("a",V,[H,(0,t.Wm)(s)]),N,(0,t._)("a",X,[Z,(0,t.Wm)(s)]),B]),G,T,(0,t._)("p",null,[O,(0,t._)("a",Y,[j,(0,t.Wm)(s)]),z,F,I])])}]])},83744:(a,n)=>{n.Z=(a,n)=>{const s=a.__vccOpts||a;for(const[a,t]of n)s[a]=t;return s}},1176:(a,n,s)=>{s.r(n),s.d(n,{data:()=>t});const t=JSON.parse('{"key":"v-0ff425c6","path":"/tech/V2rayA.html","title":"Windows","lang":"zh-CN","frontmatter":{},"excerpt":"","headers":[{"level":1,"title":"Windows","slug":"windows","children":[{"level":3,"title":"下载 v2rayA","slug":"下载-v2raya","children":[]},{"level":3,"title":"下载 V2Ray 核心 / Xray 核心","slug":"下载-v2ray-核心-xray-核心","children":[]},{"level":3,"title":"运行 v2rayA","slug":"运行-v2raya","children":[]}]}],"git":{"updatedTime":1652543953000,"contributors":[{"name":"jiange1236","email":"183465355@qq.com","commits":1}]},"filePathRelative":"tech/V2rayA.md"}')}}]);