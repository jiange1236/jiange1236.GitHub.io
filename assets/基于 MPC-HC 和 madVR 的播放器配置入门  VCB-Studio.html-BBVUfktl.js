import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as r,o as i}from"./app-DZHFx0BS.js";const n="/assets/k-lite_setup_1-DtVE2dqJ.png",o="/assets/k-lite_setup_2-PvSk6_Z9.png",p="/assets/madvr_setup_1-BHBK45j8.png",s="/assets/madvr_setup_2.1-DCEcXo13.png",l="/assets/madvr_setup_3-BkkHXKgC.png",d="/assets/madvr_setup_4.1.1-piXudTeq.png",c="/assets/madvr_setup_4.2-DaC2ErUZ.png",m="/assets/madvr_setup_4.3-DTNaWcYB.png",h="/assets/madvr_info_abyss-BoW-P04s.webp",g="/assets/xysubfilter_libass-D8LSW7_A.png",f="/assets/lav_hwdec_d3d11-BxzaQUcY.png",u="/assets/create_3dlut-BPWZiAvN.png",b="/assets/madvr_3dlut-Byw1jUtV.png",_={};function C(V,e){return i(),a("div",null,e[0]||(e[0]=[r('<h1 id="基于-mpc-hc-和-madvr-的播放器配置入门-vcb-studio" tabindex="-1"><a class="header-anchor" href="#基于-mpc-hc-和-madvr-的播放器配置入门-vcb-studio"><span>基于 MPC-HC 和 madVR 的播放器配置入门 VCB-Studio</span></a></h1><h4 id="基于-mpc-hc-和-madvr-的播放器配置入门" tabindex="-1"><a class="header-anchor" href="#基于-mpc-hc-和-madvr-的播放器配置入门"><span>基于 MPC-HC 和 madVR 的播放器配置入门</span></a></h4><p>之前的 MPC 系教程和 madVR 教程都有些过时了。老教程直接通过注册表来设置虽然简单直接，但不利于维护，索性重新写一篇。</p><p>和 <a href="https://vcb-s.com/archives/7594" target="_blank" rel="noopener noreferrer">mpv 的教程</a> 类似，本教程只提及最具普适性的选项，不为播放“高清病毒”，也不追求“极限画质”而故意榨取 CPU 和显卡性能。</p><p>本教程基于 <a href="https://codecguide.com/download_k-lite_codec_pack_full.htm" target="_blank" rel="noopener noreferrer">K-Lite Codec Pack Full</a> ，其中已经包含了 MPC-HC 和 madVR。MPC-HC 现在已由 clsid2（原 MPC <a href="http://6.4.9.1/" title="Linkify Plus Plus" target="_blank" rel="noopener noreferrer">6.4.9.1</a> 开发者）接手继续开发，而 madVR 应该已经不需要再多做介绍。</p><p>madVR 其实并不需要很高的硬件性能就可以达到相当好的效果，所以默认建议使用。如果你不想使用 madVR，也可以选择 <a href="https://codecguide.com/download_k-lite_codec_pack_standard.htm" target="_blank" rel="noopener noreferrer">K-Lite Codec Pack Standard</a> 或者 <a href="https://sourceforge.net/projects/mpcbe/" target="_blank" rel="noopener noreferrer">MPC-BE</a> 。我们 <a href="https://vcb-s.com/archives/7228" target="_blank" rel="noopener noreferrer">不推荐使用 PotPlayer</a> 。</p><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><p>直接从前文给出的 <a href="https://codecguide.com/download_k-lite_codec_pack_full.htm" target="_blank" rel="noopener noreferrer">K-Lite Codec Pack 官网链接</a> 下载安装包，运行即可。安装过程中的大部分选项都可以保留默认，除了下面这两处：</p><p>– 因为我们要默认使用 madVR 作为视频渲染器，所以这里要选择“Video renderer: madVR”</p><figure><img src="'+n+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>（当然，如果你不用 madVR，这里保留默认的“MPC Video Renderer”就好）</p><p>– 为了保证播放稳定可靠，我们一般建议只使用软件解码（见后文补充说明）</p><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>友情提示，K-Lite Codec Pack 安装包可能捆绑有赞助推广软件，不需要的话记得留意把它取消安装。</p><h3 id="简单配置" tabindex="-1"><a class="header-anchor" href="#简单配置"><span>简单配置</span></a></h3><p>K-Lite Codec Pack 默认使用 MPC-HC 作为播放器，对于大部分常见的视频文件格式和编码都默认使用 LAV 分离器和解码器，设置都没有什么需要特别修改的地方。你只需要看看播放器的其他行为设置，让它更符合你的操作习惯即可，例如启动时默认进入全屏模式、快捷键等等。</p><p>如果你不用 madVR，默认会使用 MPC Video Renderer 作为渲染器，默认设置也不需要改动。</p><h3 id="madvr-配置" tabindex="-1"><a class="header-anchor" href="#madvr-配置"><span>madVR 配置</span></a></h3><p>如果你使用 madVR，接下来我们还有一些关于 madVR 的配置建议。</p><p>– 如果你正在使用显示器自带的出厂色彩校正模式，或者是已通过硬件校色校准的显示器，可以在这里选择“this display is already calibrated”，并在下方选择对应的色域，例如 sRGB 则选择“BT.709”（sRGB 和 BT.709 的色域是完全相同的），DCI-P3 则选择“DCI-P3”，gamma 一般保留默认的“pure power curve 2.20”即可：</p><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>当然，如果你通过软件对屏幕进行了校色，这里应该选择“calibrate this display by using external 3DLUT files”，详见后文补充说明。</p><p>– 打开 madVR 自带的去色带功能，强度保持默认的“low/high”即可。色带是最为常见的视频瑕疵之一，默认启用去色带是利远大于弊的：</p><figure><img src="'+s+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>– 很多时候，我们的显示器刷新率不是片源帧率的整数倍（例如显示器刷新率通常为 60 Hz 而动画通常为 23.976 fps），此时会因每一帧实际在屏幕上的呈现时间不均等而造成卡顿感（俗称 3:2 pull down judder）。madVR 的 smooth motion 功能正是为此设计，建议默认打开：</p><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>– madVR 自带的各种缩放算法（scaling algorithms）是其最大特色之一。这里我们提供三套推荐的缩放算法相关配置，按对性能的要求分为低、中、高三档：</p><table><thead><tr><th></th><th><strong>chroma upscaling</strong></th><th><strong>image downscaling</strong></th><th><strong>image upscaling</strong></th></tr></thead><tbody><tr><td><strong>低</strong></td><td>Cubic (Bicubic50)</td><td>Cubic (Bicubic50) + LL</td><td>Lanczos (3 taps) + SL</td></tr><tr><td><strong>中</strong></td><td>Cubic (Bicubic50) + AR</td><td>Cubic (Bicubic50) + LL + AR (relaxed)</td><td>Jinc + AR + SL</td></tr><tr><td><strong>高</strong></td><td>super-xbr (100) + AR</td><td>SSIM (1D – 100%) + LL + AR (relaxed)</td><td>NGU Sharp (medium)</td></tr></tbody></table><ul><li>LL =“scale in <strong>l</strong> inear <strong>l</strong> ight”</li><li>SL =“scale in <strong>s</strong> igmoidal <strong>l</strong> ight”</li><li>AR =“activate <strong>a</strong> nti- <strong>r</strong> inging filter”</li><li>NGU Sharp 除了选择“luma doubling”质量以外，其余全部保留默认的“let madVR decide”即可</li></ul><p>需要指出的是，这里对性能要求的高低并不绝对等同于画质的高低，“低”档设置的质量其实已经相当好了，而“高”档设置在一些低质量片源上反而有可能放大片源瑕疵。综合来说我们最推荐“中”档设置，是在画质、功耗和泛用性之间较为平衡的选择。</p><p>以“中”档为例，设置完成后应该是如下图的状态：</p><p><img src="'+d+'" alt="" loading="lazy"> <img src="'+c+'" alt="" loading="lazy"> <img src="'+m+'" alt="" loading="lazy"></p><p>在完成本文的配置后，你可以打开一个码率较高的视频，按下 Ctrl + j 观察显示的 dropped frames、delayed frames 和 presentation glitches 这几项计数，如果播放一段时间后这几个数字都保持稳定没有增加，则基本可以确定视频播放没有什么问题了：</p><figure><img src="'+h+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>madVR 功能很丰富，这里不打算一一详解。再次推荐有意了解的同学阅读 <a href="https://lysandria1985.blogspot.com/2013/01/3-madvr.html" target="_blank" rel="noopener noreferrer">暮星（万年冷冻库）的这篇文章</a> 。</p><h3 id="使用-xysubfilter-with-libass-字幕渲染器" tabindex="-1"><a class="header-anchor" href="#使用-xysubfilter-with-libass-字幕渲染器"><span>使用 XySubFilter with libass 字幕渲染器</span></a></h3><p>对 Windows 平台上字幕渲染器的历史有些了解的朋友大概都知道 VSFilter (DirectVobSub) 到 xy-VSFilter/XySubFilter 的演化过程。原版 VSFilter 早已作古，其改版 xy-VSFilter/XySubFilter 开发也基本停滞，留有不少陈年 bug，在 4K 分辨率开始普及后性能问题也开始凸显。另外，VSFilter 系只支持 Windows 平台上基于 DirectShow 的播放器（如 MPC 系、PotPlayer），无法跨平台使用。libass 则是一个另起炉灶的跨平台字幕渲染器，性能也更佳，诸如 mpv、VLC 和很多移动平台上的播放器都使用 libass 来渲染字幕，近年来越来越普及。</p><p>由于 VSFilter 系长期的垄断地位而成为事实标准，绝大部分字幕组只能以 VSFilter 的渲染结果为准来制作和调整字幕显示效果（例如额外增大部分 OTF 字体竖排时的字号来弥补字体显示会变小的 bug）。libass 最近做出了一些妥协性修改，显示效果绝大部分时候都已经与 VSFilter 一致。因此，现在是摆脱 VSFilter 的历史包袱，迁移到 libass 的一个好时机。</p><p><a href="https://bbs.acgrip.com/thread-9608-1-1.html" target="_blank" rel="noopener noreferrer">XySubFilter with libass</a> 就是在 XySubFilter 基础上修改以 libass 作为后端的字幕渲染器，让 DirectShow 播放器也能享受到 libass 高性能而不牺牲兼容性，推荐大家使用。</p><p>安装过程非常简单，只需要到 <a href="https://github.com/Masaiki/xy-VSFilter/releases" target="_blank" rel="noopener noreferrer">项目的 GitHub 发布页面</a> 下载最新版本，解压到一个合适的位置，以管理员身份运行 Install_XySubFilter.bat，然后在 MPC-HC 的选项中启用即可：</p><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="补充说明" tabindex="-1"><a class="header-anchor" href="#补充说明"><span>补充说明</span></a></h3><h4 id="使用-hdmi-连接显示器时注意设置输出范围" tabindex="-1"><a class="header-anchor" href="#使用-hdmi-连接显示器时注意设置输出范围"><span>使用 HDMI 连接显示器时注意设置输出范围</span></a></h4><p>Intel 集成显卡和 NVIDIA 显卡有时会在使用 HDMI 输出时，默认使用有限范围（limited range），严重影响显示对比度。所以在使用 HDMI 连接显示器时，要注意检查输出范围，在显示控制面板中将输出范围设置为全范围（full range），如果控制面板中没有提供选项，可以借助 <a href="http://madshi.net/madVR.zip" target="_blank" rel="noopener noreferrer">madVR</a> 附带的 madLevelsTweaker.exe 工具来调整。</p><p>DVI、DisplayPort 默认应该就是全范围，笔记本电脑的自带屏幕一般也不需要专门设置。</p><h4 id="是否应该开启硬解-硬件解码" tabindex="-1"><a class="header-anchor" href="#是否应该开启硬解-硬件解码"><span>是否应该开启硬解（硬件解码）？</span></a></h4><p>近几年的主流 PC 对最常见的视频编码（H.264 和 H.265）硬解的支持已经有了一些提高，但出现各种问题的几率仍不算低。为了保证播放稳定可靠，我们一般建议只使用软件解码。如果你有其他需求，例如希望降低笔记本电脑功耗、提高电池续航，可以尝试开启硬解。</p><p>首先打开 K-Lite Codec Pack 的 Codec Tweak Tool，选择 Configuration – DirectShow Filters – LAV Video Decoder (MPC-HC) 打开 LAV 解码器设置界面，然后在右上角选择“D3D11”：</p><figure><img src="'+f+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果在硬解开启时播放遇到奇怪问题，应该首先尝试禁用硬解来排查。</p><h4 id="关于双显卡笔记本的设置" tabindex="-1"><a class="header-anchor" href="#关于双显卡笔记本的设置"><span>关于双显卡笔记本的设置</span></a></h4><p>如果你使用的是集成显卡 + NVIDIA 独立显卡的笔记本，默认设置下 MPC-HC 只会调用集成显卡来进行渲染计算，性能有限。如果你发现播放时显卡性能成为瓶颈，可以尝试改用更高性能的独立显卡。</p><p>NVIDIA 控制面板屏蔽了 MPC-HC 默认的主程序文件名 mpc-hc64.exe，本来是无法直接设置使用独立显卡的。K-Lite Codec Pack 在安装时如果检测系统环境中有双显卡（NVIDIA Optimus）存在，会自动将 MPC-HC 主程序文件名改为 mpc-hc64_nvo.exe。如果你的 MPC-HC 主程序仍然是 mpc-hc64.exe，需要先改个名字，或者用 <a href="https://www.guru3d.com/files-details/nvidia-profile-inspector-download.html" target="_blank" rel="noopener noreferrer">NVIDIA Profile Inspector</a> 解锁。详情可以参考 <a href="https://codecguide.com/faq_mpc.htm#item44" target="_blank" rel="noopener noreferrer">这里</a> 。</p><p>然后在 NVIDIA 控制面板 – 3D 设置 – 管理 3D 设置 – 程序设置下，添加 MPC-HC 主程序，将首选图形处理器改为“高性能 NVIDIA 处理器”，并将电源管理模式改为“自适应”。</p><h4 id="使用-icc-profile-为-madvr-生成-3dlut-文件实现色彩管理" tabindex="-1"><a class="header-anchor" href="#使用-icc-profile-为-madvr-生成-3dlut-文件实现色彩管理"><span>使用 ICC profile 为 madVR 生成 3DLUT 文件实现色彩管理</span></a></h4><p>我们需要用到校色软件 DisplayCAL 配套的一个小程序 3DLUT Maker。首先从 <a href="https://displaycal.net/" target="_blank" rel="noopener noreferrer">DisplayCAL 官网</a> 下载安装（如果你还没有的话），然后运行 3DLUT Maker，“Destination profile”选择你显示器的 ICC profile 文件，确保“Apply calibration (vcgt)”不勾选，文件格式当然是“madVR (.3dlut)”，其余保持默认即可：</p><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>点击右下角按钮，选择保存位置，完成后，把得到的.3dlut 文件放在一个合适的位置，然后打开 madVR 设置，按下图设置，确保“disable GPU gamma ramps”不勾选：</p><figure><img src="'+b+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>然后保存设置即可。</p><p>目前我们推荐的播放器可以分成两大阵营：mpv 和 MPC。前者跨平台，后者仅限 Windows。</p><h3 id="mpv" tabindex="-1"><a class="header-anchor" href="#mpv"><span>mpv</span></a></h3><p><a href="https://mpv.io/" target="_blank" rel="noopener noreferrer">mpv</a> 可以在 Windows、macOS 和桌面 Linux 上使用。</p><p>mpv 本身没有图形界面，需要自己写配置文件，但并不复杂，习惯之后可以说比图形界面还要简单。</p><p>如果你确实需要一个图形界面的 mpv 播放器前端，我们推荐：</p><p>– Windows 用户使用 <a href="https://github.com/mpvnet-player/mpv.net" target="_blank" rel="noopener noreferrer">mpv.net</a><br> – macOS 用户使用 <a href="https://iina.io/" target="_blank" rel="noopener noreferrer">IINA</a></p><p>详情请查看我们的 <a href="https://vcb-s.com/archives/7594" target="_blank" rel="noopener noreferrer">mpv 配置教程</a> 。</p><h3 id="mpc" tabindex="-1"><a class="header-anchor" href="#mpc"><span>MPC</span></a></h3><p>MPC 系列都基于微软 DirectShow，只能在 Windows 上使用。</p><p>MPC 目前有两个分支版本：MPC-HC 和 MPC-BE，都值得推荐。我们同时推荐配合 <a href="https://madvr.com/" target="_blank" rel="noopener noreferrer">madVR</a> 和 <a href="https://bbs.acgrip.com/thread-9608-1-1.html" target="_blank" rel="noopener noreferrer">XySubFilter with libass</a> 一起使用。</p><p>目前的 <a href="https://codecguide.com/download_k-lite_codec_pack_full.htm" target="_blank" rel="noopener noreferrer">K-Lite Codec Pack Full</a> 直接包含了 MPC-HC、LAV 以及 madVR 这一套播放环境，安装和配置较为简单，是我们优先推荐的方案。</p><p>详情请查看我们的 <a href="https://vcb-s.com/archives/16609" target="_blank" rel="noopener noreferrer">MPC-HC + madVR 配置教程</a> 。</p>',72)]))}const v=t(_,[["render",C]]),k=JSON.parse('{"path":"/tech/%E5%9F%BA%E4%BA%8E%20MPC-HC%20%E5%92%8C%20madVR%20%E7%9A%84%E6%92%AD%E6%94%BE%E5%99%A8%E9%85%8D%E7%BD%AE%E5%85%A5%E9%97%A8%20%20VCB-Studio.html","title":"基于 MPC-HC 和 madVR 的播放器配置入门  VCB-Studio","lang":"zh-CN","frontmatter":{"title":"基于 MPC-HC 和 madVR 的播放器配置入门  VCB-Studio","source":"https://vcb-s.com/archives/16609","published":"2025-05-13T00:00:00.000Z","date":"2025-05-18T00:00:00.000Z","category":["计算机"],"tags":["clippings","MPC-HC"],"article":true,"description":"基于 MPC-HC 和 madVR 的播放器配置入门 VCB-Studio 基于 MPC-HC 和 madVR 的播放器配置入门 之前的 MPC 系教程和 madVR 教程都有些过时了。老教程直接通过注册表来设置虽然简单直接，但不利于维护，索性重新写一篇。 和 mpv 的教程 类似，本教程只提及最具普适性的选项，不为播放“高清病毒”，也不追求“极限画质...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"基于 MPC-HC 和 madVR 的播放器配置入门  VCB-Studio\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-05-18T00:00:00.000Z\\",\\"dateModified\\":\\"2025-07-21T01:29:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Zine⁶\\",\\"url\\":\\"https://zecdn.top\\"}]}"],["meta",{"property":"og:url","content":"https://jiange1236.github.io/tech/%E5%9F%BA%E4%BA%8E%20MPC-HC%20%E5%92%8C%20madVR%20%E7%9A%84%E6%92%AD%E6%94%BE%E5%99%A8%E9%85%8D%E7%BD%AE%E5%85%A5%E9%97%A8%20%20VCB-Studio.html"}],["meta",{"property":"og:site_name","content":"Zeblog"}],["meta",{"property":"og:title","content":"基于 MPC-HC 和 madVR 的播放器配置入门  VCB-Studio"}],["meta",{"property":"og:description","content":"基于 MPC-HC 和 madVR 的播放器配置入门 VCB-Studio 基于 MPC-HC 和 madVR 的播放器配置入门 之前的 MPC 系教程和 madVR 教程都有些过时了。老教程直接通过注册表来设置虽然简单直接，但不利于维护，索性重新写一篇。 和 mpv 的教程 类似，本教程只提及最具普适性的选项，不为播放“高清病毒”，也不追求“极限画质..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-21T01:29:50.000Z"}],["meta",{"property":"article:tag","content":"MPC-HC"}],["meta",{"property":"article:tag","content":"clippings"}],["meta",{"property":"article:published_time","content":"2025-05-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-21T01:29:50.000Z"}],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://jiange1236.github.io/atom.xml","title":"Zeblog Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://jiange1236.github.io/feed.json","title":"Zeblog JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://jiange1236.github.io/rss.xml","title":"Zeblog RSS Feed"}]]},"git":{"createdTime":1748501732000,"updatedTime":1753061390000,"contributors":[{"name":"jiange1236","username":"jiange1236","email":"1384621+jiange1236@users.noreply.github.com","commits":2,"url":"https://github.com/jiange1236"}]},"readingTime":{"minutes":10.16,"words":3047},"filePathRelative":"tech/基于 MPC-HC 和 madVR 的播放器配置入门  VCB-Studio.md","excerpt":"","autoDesc":true}');export{v as comp,k as data};
