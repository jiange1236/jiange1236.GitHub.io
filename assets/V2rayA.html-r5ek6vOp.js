import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as c,c as l,b as a,d as n,e as t,a as e}from"./app-BfYe3lCy.js";const r={},i=a("h1",{id:"windows",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#windows","aria-hidden":"true"},"#"),n(" Windows")],-1),u=a("p",null,"本节介绍如何在 Windows 上安装 v2rayA。需要注意的是，目前在 Windows 上仅支持一键配置系统代理而非透明代理。",-1),d=a("h2",{id:"使用安装包一键安装",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#使用安装包一键安装","aria-hidden":"true"},"#"),n(" 使用安装包一键安装")],-1),v=a("p",null,"安装包将内置 v2ray-core，如需更换 Xray-core，可在安装完毕后于安装目录手动进行替换。",-1),k={href:"https://github.com/v2rayA/v2rayA/releases",target:"_blank",rel:"noopener noreferrer"},h=a("p",null,"通过安装包安装 v2rayA 后，v2rayA 将以服务的形式运行，默认情况下将开机自启。你也可以在任务管理器中的“服务”选项卡管理 v2rayA 的启动与停止。",-1),g=a("h2",{id:"手动安装核心和-v2raya",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#手动安装核心和-v2raya","aria-hidden":"true"},"#"),n(" 手动安装核心和 v2rayA")],-1),m=a("p",null,"v2rayA 目前不支持 TUN，因此 Windows 之上的透明代理无法启用。安全起见，下面将以普通用户权限来运行 v2rayA。",-1),y={href:"https://github.com/qv2ray/mochi",target:"_blank",rel:"noopener noreferrer"},b=a("code",null,"scoop\\shims",-1),_=a("h3",{id:"下载-v2raya",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#下载-v2raya","aria-hidden":"true"},"#"),n(" 下载 v2rayA")],-1),x={href:"https://github.com/v2rayA/v2rayA/releases",target:"_blank",rel:"noopener noreferrer"},f=a("code",null,"v2raya.exe",-1),w=e(`<h3 id="下载-v2ray-核心-xray-核心" tabindex="-1"><a class="header-anchor" href="#下载-v2ray-核心-xray-核心" aria-hidden="true">#</a> 下载 V2Ray 核心 / Xray 核心</h3><h4 id="方法一-从-scoop-安装" tabindex="-1"><a class="header-anchor" href="#方法一-从-scoop-安装" aria-hidden="true">#</a> 方法一：从 scoop 安装</h4><div class="language-ps1 line-numbers-mode" data-ext="ps1"><pre class="language-ps1"><code>scoop install v2ray  ## 或者安装 xray 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="方法二-手动下载安装" tabindex="-1"><a class="header-anchor" href="#方法二-手动下载安装" aria-hidden="true">#</a> 方法二：手动下载安装</h4><blockquote><p>安装 V2Ray：https://www.v2fly.org/guide/install.html 安装 Xray：https://xray.sh/document/install.html</p></blockquote><p>下载压缩包之后解压即可。</p><h3 id="运行-v2raya" tabindex="-1"><a class="header-anchor" href="#运行-v2raya" aria-hidden="true">#</a> 运行 v2rayA</h3><p>以下假设 v2rayA 与核心都保存到了 D 盘的对应文件夹，如果你文件的存放位置不是这些文件夹，那么你需要根据实际情况修改命令或配置文件。</p><h4 id="直接运行" tabindex="-1"><a class="header-anchor" href="#直接运行" aria-hidden="true">#</a> 直接运行</h4><div class="language-ps1 line-numbers-mode" data-ext="ps1"><pre class="language-ps1"><code>D:\\v2rayA\\v2raya.exe --lite --v2ray-bin &#39;D:\\v2ray\\v2ray.exe&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="作为服务运行" tabindex="-1"><a class="header-anchor" href="#作为服务运行" aria-hidden="true">#</a> 作为服务运行</h4>`,11),A={href:"https://github.com/winsw/winsw/",target:"_blank",rel:"noopener noreferrer"},q=e(`<p>下载 WinSW（版本随意，不过 Windows 10 用户使用 <code>WinSW-net461.exe</code> 这个版本即可）的 3.x 版本，然后将其重命名为 <code>v2raya-service.exe</code> 并放入 v2rayA 所在的文件夹下面。</p><p>在 v2rayA 所在文件夹下新建 <code>v2raya-service.xml</code> 然后编辑：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>org.v2raya.v2raya<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>v2rayA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>This service runs v2rayA.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executable</span><span class="token punctuation">&gt;</span></span>D:\\v2rayA\\v2raya.exe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executable</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arguments</span><span class="token punctuation">&gt;</span></span>--lite --v2ray-bin=D:\\v2ray\\v2ray.exe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arguments</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roll<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delayedAutoStart</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delayedAutoStart</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onfailure</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>restart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10 sec<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onfailure</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>restart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20 sec<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceaccount</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>.\\YourUserName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>YourPassword<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>allowservicelogon</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>allowservicelogon</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>serviceaccount</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>service</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此处的用户名是你显示在“计算机管理”中的用户名，而非在控制面板或系统设置里面看到的完整用户名。密码是你的本地账户密码或者微软账户密码。</p><p>保存文件，然后运行：</p><div class="language-ps1 line-numbers-mode" data-ext="ps1"><pre class="language-ps1"><code>cd D:\\v2rayA
.\\v2raya-service.exe install
.\\v2raya-service.exe start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>操作需要管理员权限。在 v2rayA 所在目录下可以查看日志文件。</p><h4 id="后台运行-使用-powershell-的隐藏窗口功能" tabindex="-1"><a class="header-anchor" href="#后台运行-使用-powershell-的隐藏窗口功能" aria-hidden="true">#</a> 后台运行（使用 PowerShell 的隐藏窗口功能）：</h4><div class="language-ps1 line-numbers-mode" data-ext="ps1"><pre class="language-ps1"><code>Start-Process &quot;D:\\v2rayA\\v2raya.exe&quot; -Arg &quot;--lite --v2ray-bin &#39;D:\\v2ray\\v2ray.exe&#39; &quot; -WindowStyle Hidden
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="后台运行-使用-conemu" tabindex="-1"><a class="header-anchor" href="#后台运行-使用-conemu" aria-hidden="true">#</a> 后台运行（使用 ConEmu）</h4>`,10),W={href:"https://conemu.github.io/",target:"_blank",rel:"noopener noreferrer"},S={href:"https://v2raya.org/docs/prologue/installation/windows/#%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C",target:"_blank",rel:"noopener noreferrer"},E=a("h2",{id:"其它",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#其它","aria-hidden":"true"},"#"),n(" 其它")],-1),D=a("p",null,"Scoop 源：https://github.com/v2raya/v2raya-scoop",-1),V={href:"https://scoop.sh/",target:"_blank",rel:"noopener noreferrer"},B=a("code",null,"v2raya",-1);function N(C,H){const s=p("ExternalLinkIcon");return c(),l("div",null,[i,u,d,v,a("p",null,[n("从 "),a("a",k,[n("GitHub Releases"),t(s)]),n(" 下载适用于 Windows 的安装包，例如 installer_windows_x64_1.5.6.exe，按照指示安装完毕即可。可运行桌面快捷方式或直接访问 http://127.0.0.1:2017 打开管理页面。")]),h,g,m,a("p",null,[n("建议从 scoop 安装 v2ray 核心，这样你可以很容易地获取后续更新。可以通过 "),a("a",y,[n("Qv2ray 的 Mochi 仓库"),t(s)]),n(" 安装核心。不过注意，如果你从 scoop 安装了核心，那么你应该使用实际的核心文件，而不是 "),b,n(" 下的外壳，否则将造成内核重启失败故障。")]),_,a("p",null,[n("从 "),a("a",x,[n("GitHub Releases"),t(s)]),n(" 或 GitHub Action 下载适用于 Windows 的二进制文件，然后重命名为 "),f,n("（格外注意 Windows 系统下不能丢失扩展名）。")]),w,a("p",null,[n("使用 "),a("a",A,[n("WinSW"),t(s)]),n(" 可以将 v2rayA 作为服务运行并自动开机启动。")]),q,a("p",null,[a("a",W,[n("ConEmu"),t(s)]),n(" 是一个 Windows 下的终端程序，右击它窗口上的最小化按钮可以让它把窗口最小化到托盘区。在 ConEmu 中的 PowerShell 会话中使用 "),a("a",S,[n("直接运行"),t(s)]),n(" 项里面提到的命令运行 v2rayA 即可。")]),E,D,a("p",null,[n("你可以通过 "),a("a",V,[n("Scoop"),t(s)]),n(" 安装 v2rayA，安装完成后可以直接通过 "),B,n(" 命令运行。")])])}const G=o(r,[["render",N],["__file","V2rayA.html.vue"]]);export{G as default};
