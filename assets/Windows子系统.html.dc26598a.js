import{r,c as o,a as s,b as e,F as p,d as t,e as n,o as i}from"./app.3efe92fe.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";const l={},u=t(`<h1 id="windows\u5B50\u7CFB\u7EDF" tabindex="-1"><a class="header-anchor" href="#windows\u5B50\u7CFB\u7EDF" aria-hidden="true">#</a> Windows\u5B50\u7CFB\u7EDF</h1><h2 id="\u66F4\u6362apt\u6E90\u3002" tabindex="-1"><a class="header-anchor" href="#\u66F4\u6362apt\u6E90\u3002" aria-hidden="true">#</a> \u66F4\u6362apt\u6E90\u3002</h2><p>\u56E0\u4E3ALinux\u5B50\u7CFB\u7EDF\u7684apt\u6E90\u4F7F\u7528\u7684\u662F\u5B98\u65B9\u6E90\uFF0C\u9700\u8981\u8FDE\u63A5\u5230\u56FD\u5916\u7684\u670D\u52A1\u5668\u3002\u6240\u4EE5\u5B89\u88C5\u4E00\u4E9B\u8F6F\u4EF6\u65F6\u4E0B\u8F7D\u4F1A\u5F88\u6162\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6539\u7528\u56FD\u5185\u7684\u955C\u50CFapt\u6E90\u3002\u56FD\u5185\u7684\u955C\u50CF\u6E90\u4E3B\u8981\u6709\uFF1A</p><p>\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 vim \u5BF9 /etc/apt/sources.list\u6587\u4EF6\u8FDB\u884C\u4FEE\u6539\u3002</p><p>\u5148\u8FDB\u884C\u4E00\u4E0B\u5907\u4EFD\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7136\u540E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span>  /etc/apt/sources.list
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="\u963F\u91CC\u6E90ubuntu-20-04-focal" tabindex="-1"><a class="header-anchor" href="#\u963F\u91CC\u6E90ubuntu-20-04-focal" aria-hidden="true">#</a> \u963F\u91CC\u6E90ubuntu 20.04(focal)</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal universe
deb http://mirrors.aliyun.com/ubuntu/ focal-updates universe
deb http://mirrors.aliyun.com/ubuntu/ focal multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal-security universe
deb http://mirrors.aliyun.com/ubuntu/ focal-security multiverse


ubuntu <span class="token number">18.04</span><span class="token punctuation">(</span>bionic<span class="token punctuation">)</span> \u914D\u7F6E\u5982\u4E0B

deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="\u79D1\u5927\u6E90" tabindex="-1"><a class="header-anchor" href="#\u79D1\u5927\u6E90" aria-hidden="true">#</a> \u79D1\u5927\u6E90</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="\u7F51\u6613\u6E90" tabindex="-1"><a class="header-anchor" href="#\u7F51\u6613\u6E90" aria-hidden="true">#</a> \u7F51\u6613\u6E90</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>deb http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u9009\u62E9\u4E00\u4E2A\u6E90\u6DFB\u52A0\u5230\u6587\u4EF6\u6700\u524D\u9762\u6216\u76F4\u63A5\u66FF\u6362\u6389\u539F\u6587\u4EF6\u3002\u4FDD\u5B58\u540E\u8FD0\u884C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo apt-get update
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="\u5728wsl2\u4E0B\u5B89\u88C5docker" tabindex="-1"><a class="header-anchor" href="#\u5728wsl2\u4E0B\u5B89\u88C5docker" aria-hidden="true">#</a> \u5728WSL2\u4E0B\u5B89\u88C5Docker</h2><p>wsl2\u5DF2\u7ECF\u5B8C\u6574\u4F7F\u7528\u4E86linux\u5185\u6838\u6B64\u79CD\u65B9\u5F0F\u4E0E\u4E4B\u524D\u5728vmware\u865A\u62DF\u673A\u5B89\u88C5docker\u7C7B\u4F3C\uFF0C\u4F9D\u6B21\u6267\u884C\u5982\u4E0B\u547D\u4EE4\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ curl -fsSL https://get.docker.com -o get-docker.sh$ sudo sh get-docker.sh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u539F\u751Flinux\u5B89\u88C5docker\u65B9\u5F0F</strong></p><p>\u56E0\u4E3Awsl2\u5DF2\u7ECF\u5B8C\u6574\u4F7F\u7528\u4E86linux\u5185\u6838\u4E86\uFF0C\u6B64\u79CD\u65B9\u5F0F\u548C\u5148\u524D\u5728linux\u865A\u62DF\u673A\u5B89\u88C5docker\u7C7B\u4F3C\uFF0C\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code>curl <span class="token operator">-</span>fsSL https:<span class="token operator">/</span><span class="token operator">/</span>get<span class="token punctuation">.</span>docker<span class="token punctuation">.</span>com <span class="token operator">-</span>o <span class="token function">get-docker</span><span class="token punctuation">.</span>sh
sudo sh <span class="token function">get-docker</span><span class="token punctuation">.</span>sh
sudo service docker <span class="token function">start</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u6267\u884C\u811A\u672C\u5B89\u88C5\u8FC7\u7A0B\u4E2D\uFF0C\u811A\u672C\u63D0\u793A\u201C<strong>\u5EFA\u8BAE\u4F7F\u7528Docker Desktop for windows</strong>\u201D\uFF0C20s\u5185\u6309Ctrl+C\u4F1A\u9000\u51FA\u5B89\u88C5\uFF0C\u6240\u4EE5\u9700\u8981\u7B49\u5F8520s\uFF0C\u6B64\u79CD\u65B9\u5F0F\u9700\u8981\u8BBF\u95EE\u7F51\u7EDC\u3002</p><p>\u6700\u540E\u4E00\u4E2A\u6B65\u9AA4\uFF0C\u542F\u52A8Docker daemon\u3002\u4F46\u662F\u6B64\u5904\u6709\u4E00\u4E2A\u95EE\u9898\uFF0CWSL2\u7ECF\u8FC7\u6D4B\u8BD5\u65E0\u6CD5\u4F7F\u7528systemctl\u547D\u4EE4\uFF08\u6B64\u95EE\u9898\u5DF2\u7ECF\u89E3\u51B3\uFF09\uFF0C\u56E0\u6B64\u6211\u4EEC\u4F7F\u7528service\u547D\u4EE4\u542F\u52A8Docker daemon\u8FDB\u7A0B\u3002\u547D\u4EE4\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo service docker start
* Starting Docker: docker
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>**\u6CE8\u610F:**\u5728\u6211\u5B89\u88C5\u5B8C\u6BD5docker\u540E,docker pull\u4EE5\u53CArun\u90FD\u4F1A\u51FA\u73B0\u5F02\u5E38 Error response from daemon: Get https://registry-1.docker.io/v2/library/redis/manifests/latest: remote error: tls: bad record MAC \u6B64\u65F6\u53EA\u9700\u8981\u4FEE\u6539docker\u955C\u50CF\u4E0B\u8F7D\u5730\u5740\u4E3A\u56FD\u5185\u955C\u50CF\u5373\u53EF \u5FC5\u987B\u4FEE\u6539 daemon.json ,docker pull register\u65B9\u5F0F\u65E0\u6548!!! \u4FEE\u6539daemon.json\u64CD\u4F5C\u547D\u4EE4\u5982\u4E0B:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vim /etc/docker/daemon.json
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>
	<span class="token string">&quot;registry-mirrors&quot;</span>:<span class="token punctuation">[</span>
        <span class="token string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>,
        <span class="token string">&quot;http://hub-mirror.c.163.com&quot;</span>,
        <span class="token string">&quot;http://f1361db2.m.daocloud.io&quot;</span>,
        <span class="token string">&quot;https://ovfftd6p.mirror.aliyuncs.com&quot;</span>,
        <span class="token string">&quot;https://ayyx3zqn.mirror.aliyuncs.com&quot;</span>,
        <span class="token string">&quot;https://registry.docker-cn.com&quot;</span>,
        <span class="token string">&quot;https://dockerhub.azk8s.cn&quot;</span>,
        <span class="token string">&quot;https://reg-mirror.qiniu.com&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u68C0\u67E5docker\u5B89\u88C5\u6B63\u5E38</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u68C0\u67E5dockerd\u8FDB\u7A0B\u542F\u52A8</span>
<span class="token function">service</span> <span class="token function">docker</span> status
<span class="token function">ps</span> aux<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">docker</span>
<span class="token comment"># \u68C0\u67E5\u62C9\u53D6\u955C\u50CF\u7B49\u6B63\u5E38</span>
<span class="token function">docker</span> pull busybox
<span class="token function">docker</span> images
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="win10\u4E0Ewsl2\u5B50\u7CFB\u7EDF\u4E92\u76F8\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#win10\u4E0Ewsl2\u5B50\u7CFB\u7EDF\u4E92\u76F8\u8BBF\u95EE" aria-hidden="true">#</a> Win10\u4E0Ewsl2\u5B50\u7CFB\u7EDF\u4E92\u76F8\u8BBF\u95EE</h2><p>Win10\u8BBF\u95EEwsl2\u7CFB\u7EDF\u6BD4vm\u865A\u62DF\u673A\u662F\u4EAE\u70B9\uFF0C\u7279\u522B\u65B9\u4FBF\uFF0C\u8FDB\u5165CMD\u6216\u8005PowerShell\uFF0C\u8F93\u5165\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd \\\\wsl$\\Ubuntu\\
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u53EF\u4EE5\u8FDB\u5165Ubuntu-20.04\u5B50\u7CFB\u7EDF\u6839\u76EE\u5F55</p><p>\u6216\u8005\u6253\u5F00\u6587\u4EF6\u8D44\u6E90\u7BA1\u7406\u5668\uFF0C\u5728\u5730\u5740\u680F\u8F93\u5165<code>\\\\wsl$\\Ubuntu\\</code>\uFF0C\u4E5F\u53EF\u4EE5Ubuntu\u5B50\u7CFB\u7EDF\u6839\u76EE\u5F55\u3002</p><p><img src="https://upload-images.jianshu.io/upload_images/6645072-861e342815516794.png" alt="https://upload-images.jianshu.io/upload_images/6645072-861e342815516794.png" loading="lazy"></p><h2 id="faq" tabindex="-1"><a class="header-anchor" href="#faq" aria-hidden="true">#</a> FAQ</h2><h2 id="systemctl\u547D\u4EE4\u65E0\u6CD5\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#systemctl\u547D\u4EE4\u65E0\u6CD5\u4F7F\u7528" aria-hidden="true">#</a> systemctl\u547D\u4EE4\u65E0\u6CD5\u4F7F\u7528</h2><p>\u73B0\u8C61\u4E3A\u5728\u547D\u4EE4\u884C\u6267\u884C<code>systemctl</code>\u547D\u4EE4\uFF0C\u62A5\u5982\u4E0B\u9519\u8BEF\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>System has not been booted with systemd as init system <span class="token punctuation">(</span>PID <span class="token number">1</span><span class="token punctuation">)</span>. Can&#39;t operate.
Failed to connect to bus: Host is down
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,40),d=n("\u53C2\u8003\u4E86"),b={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fforum.snapcraft.io%2Ft%2Frunning-snaps-on-wsl2-insiders-only-for-now%2F13033",target:"_blank",rel:"noopener noreferrer"},m=n("https://forum.snapcraft.io/t/running-snaps-on-wsl2-insiders-only-for-now/13033"),k=n("\u4E4B\u540E\u7ED9\u51FA\u5982\u4E0B\u89E3\u51B3\u65B9\u6848\uFF1A"),h=t(`<ol><li>\u5B89\u88C5daemonize\u548Cfontconfig</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">apt</span> <span class="token function">install</span> -y fontconfig daemonize
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol><li>\u7F16\u8F91<code>vim /etc/profile</code>\u811A\u672C\uFF0C\u52A0\u5165\u5982\u4E0B\u5185\u5BB9\uFF1A</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">SYSTEMD_PID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;/lib/systemd/systemd --system-unit=basic.target$&#39;</span> <span class="token operator">|</span> <span class="token function">grep</span> -v unshare <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">)</span></span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">$SYSTEMD_PID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   <span class="token function">sudo</span> /usr/bin/daemonize /usr/bin/unshare --fork --pid --mount-proc /lib/systemd/systemd --system-unit<span class="token operator">=</span>basic.target
   <span class="token assign-left variable">SYSTEMD_PID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;/lib/systemd/systemd --system-unit=basic.target$&#39;</span> <span class="token operator">|</span> <span class="token function">grep</span> -v unshare <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">)</span></span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$SYSTEMD_PID</span>&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$SYSTEMD_PID</span>&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;1&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">exec</span> <span class="token function">sudo</span> /usr/bin/nsenter -t <span class="token variable">$SYSTEMD_PID</span> -a <span class="token function">su</span> - <span class="token environment constant">$LOGNAME</span>
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol><li>\u4FEE\u6539<code>vim /etc/sudoers</code>\u6587\u4EF6\uFF0C\u52A0\u5165\u5982\u4E0B\u5185\u5BB9\uFF1A</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">%</span>sudo <span class="token constant">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token constant">ALL</span><span class="token punctuation">)</span> <span class="token constant">NOPASSWD</span><span class="token operator">:</span> <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>daemonize <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>unshare <span class="token operator">--</span>fork <span class="token operator">--</span>pid <span class="token operator">--</span>mount<span class="token operator">-</span>proc <span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>systemd <span class="token operator">--</span>system<span class="token operator">-</span>unit<span class="token operator">=</span>basic<span class="token punctuation">.</span>target
<span class="token operator">%</span>sudo <span class="token constant">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token constant">ALL</span><span class="token punctuation">)</span> <span class="token constant">NOPASSWD</span><span class="token operator">:</span> <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>nsenter <span class="token operator">-</span>t <span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">*</span> <span class="token operator">-</span>a su <span class="token operator">-</span> <span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">*</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol><li>\u6267\u884C<code>source /etc/profile</code>\u6216\u8005\u662F\u91CD\u65B0\u6253\u5F00terminal\uFF0C\u6267\u884C<code>systemctl</code>\u9A8C\u8BC1\u662F\u5426\u80FD\u591F\u6B63\u5E38\u64CD\u4F5C\u3002</li></ol><h2 id="vmmem-\u8FDB\u7A0B\u5360\u7528\u8FC7\u591A\u5185\u5B58" tabindex="-1"><a class="header-anchor" href="#vmmem-\u8FDB\u7A0B\u5360\u7528\u8FC7\u591A\u5185\u5B58" aria-hidden="true">#</a> Vmmem \u8FDB\u7A0B\u5360\u7528\u8FC7\u591A\u5185\u5B58</h2><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7WSL\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u9650\u5236vmmem\u8FDB\u7A0B\u7684\u5185\u5B58\u5360\u7528\u3002\u5728%UserProfile%\u76EE\u5F55\u521B\u5EFA<code>.wslconfig</code>\u6587\u4EF6\uFF0C\u6DFB\u52A0\u5982\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">wsl2</span></span><span class="token punctuation">]</span>
memory<span class="token operator">=</span>2GB
swap<span class="token operator">=</span><span class="token number">0</span>
localhostForwarding<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8FD9\u91CC\u9650\u5236\u4E86vmmem\u8FDB\u7A0B\u6700\u5927\u5185\u5B58\u4E0D\u8D85\u8FC76GB\uFF0C\u4E0D\u4F7F\u7528\u4EA4\u6362\u7A7A\u95F4\u3002 \u521B\u5EFA\u5B8C\u914D\u7F6E\u6587\u4EF6\u540E\uFF0C\u6267\u884C<code>wsl --shutdown</code>\u5173\u95EDWSL\uFF0C\u518D\u91CD\u65B0\u542F\u52A8\u5373\u53EF\u751F\u6548\u3002</p>`,11),v=n("\u53C2\u8003\u8D44\u6599\uFF1A "),g={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fmicrosoft%2FWSL%2Fissues%2F4166",target:"_blank",rel:"noopener noreferrer"},f=n("https://github.com/microsoft/WSL/issues/4166"),y={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwsl%2Frelease-notes%23build-18945",target:"_blank",rel:"noopener noreferrer"},w=n("https://docs.microsoft.com/en-us/windows/wsl/release-notes#build-18945"),_=s("h2",{id:"\u53EF\u9009-\u4F7F\u7528podman\u53D6\u4EE3docker",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u53EF\u9009-\u4F7F\u7528podman\u53D6\u4EE3docker","aria-hidden":"true"},"#"),n(" \uFF08\u53EF\u9009\uFF09\u4F7F\u7528Podman\u53D6\u4EE3Docker")],-1),x=s("p",null,"Podman\u5DF2\u6210\u4E3ACentOS8\u5B98\u65B9\u5FA1\u7528\u5BB9\u5668\u7BA1\u7406\u5668\uFF0C\u5E76\u4E14Kubernetes1.12\u5DF2\u7ECF\u653E\u5F03\u5BF9Docker\u7684\u652F\u6301\u3002\u76F8\u6BD4Docker\uFF0CPodman\u65E0\u9700\u5B88\u62A4\u8FDB\u7A0B\uFF0C\u4E0D\u5F3A\u5236\u8981\u6C42\u4F7F\u7528root\u7528\u6237\u6765\u7BA1\u7406\u5BB9\u5668\uFF0C\u5177\u6709\u66F4\u597D\u7684\u7075\u6D3B\u6027\u548C\u5B89\u5168\u6027\u3002Podman\u4F7F\u7528\u65B9\u5F0F\u548CDocker\u5B8C\u5168\u76F8\u540C\uFF0C\u517C\u5BB9Docker\u7684\u955C\u50CF\u683C\u5F0F\u3002 \u7ECF\u672C\u4EBA\u8BD5\u9A8CPodman\u53EF\u4EE5\u5B8C\u7F8E\u7684\u5728WSL2 Ubuntu\u4E2D\u8FD0\u884C\u3002",-1),q=n("\u5728WSL2\u4E2D\u5B89\u88C5Podman\u7684\u65B9\u6CD5\u53EF\u53C2\u8003\u5982\u4E0B\u94FE\u63A5\uFF1A"),S={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwww.redhat.com%2Fsysadmin%2Fpodman-windows-wsl2",target:"_blank",rel:"noopener noreferrer"},D=n("https://www.redhat.com/sysadmin/podman-windows-wsl2"),L=t(`<p>\u4E0B\u9762\u811A\u672C\u4E3APodman\u7684\u5B89\u88C5\u811A\u672C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">.</span> /etc/os-release
<span class="token function">sudo</span> <span class="token function">sh</span> -c <span class="token string">&quot;echo &#39;deb http://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/x<span class="token variable">\${NAME}</span>_<span class="token variable">\${VERSION_ID}</span>/ /&#39; &gt; /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list&quot;</span>
<span class="token function">wget</span> -nv https://download.opensuse.org/repositories/devel:kubic:libcontainers:stable/x<span class="token variable">\${NAME}</span>_<span class="token variable">\${VERSION_ID}</span>/Release.key -O Release.key
<span class="token function">sudo</span> apt-key <span class="token function">add</span> - <span class="token operator">&lt;</span> Release.key
<span class="token function">sudo</span> <span class="token function">apt-get</span> update -qq
<span class="token function">sudo</span> <span class="token function">apt-get</span> -qq -y <span class="token function">install</span> <span class="token function">podman</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/containers
<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;[registries.search]<span class="token entity" title="\\n">\\n</span>registries = [&#39;docker.io&#39;, &#39;quay.io&#39;]&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/containers/registries.conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u5982\u679C\u6CA1\u6709\u5176\u4ED6\u62A5\u9519\u4FE1\u606F\uFF0C\u5230\u8FD9\u91CCPodman\u5DF2\u5B89\u88C5\u5B8C\u6BD5\u3002\u6211\u4EEC\u53EF\u4EE5\u6267\u884C<code>podman info</code>\u547D\u4EE4\uFF0C\u9A8C\u8BC1\u662F\u5426\u5B89\u88C5\u6210\u529F\u3002</p><p><strong>\u5B98\u65B9\u5B89\u88C5</strong></p>`,4),F={href:"https://podman.io/getting-started/installation",target:"_blank",rel:"noopener noreferrer"},$=n("https://podman.io/getting-started/installation"),P=t(`<p>\u6CE8\u610F\uFF1A\u5728 Ubuntu 20.10 \u548C\u66F4\u65B0\u7248\u672C\u4E0A\uFF0C\u6211\u4EEC\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u4EC5\u4F7F\u7528\u6765\u81EA Kubic \u5B58\u50A8\u5E93\u6216\u5B98\u65B9 Ubuntu \u5B58\u50A8\u5E93\u7684 Buildah\u3001Podman \u548C Skopeo\u3002\u6DF7\u5408\u548C\u5339\u914D\u53EF\u80FD\u4F1A\u5BFC\u81F4\u4E0D\u53EF\u9884\u77E5\u7684\u60C5\u51B5\uFF0C\u5305\u62EC\u5B89\u88C5\u51B2\u7A81\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">.</span> /etc/os-release
<span class="token builtin class-name">echo</span> <span class="token string">&quot;deb https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_<span class="token variable">\${VERSION_ID}</span>/ /&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list
<span class="token function">curl</span> -L <span class="token string">&quot;https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_<span class="token variable">\${VERSION_ID}</span>/Release.key&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> -y upgrade
<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> <span class="token function">podman</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u955C\u50CF\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">vim</span> /etc/containers/registries.conf

<span class="token punctuation">[</span>registries.search<span class="token punctuation">]</span>
registries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;i2kldsde.mirror.aliyuncs.com&#39;</span>,<span class="token string">&#39;docker.io&#39;</span><span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="wsl2-\u7CFB\u7EDF\u5360\u7528\u78C1\u76D8\u7A7A\u95F4\u4E0D\u91CA\u653E" tabindex="-1"><a class="header-anchor" href="#wsl2-\u7CFB\u7EDF\u5360\u7528\u78C1\u76D8\u7A7A\u95F4\u4E0D\u91CA\u653E" aria-hidden="true">#</a> WSL2 \u7CFB\u7EDF\u5360\u7528\u78C1\u76D8\u7A7A\u95F4\u4E0D\u91CA\u653E</h2><p>WSL2\u672C\u8D28\u662F\u865A\u62DF\u673A\uFF0C\u5B83\u4F7F\u7528\u7684\u662Fvhdx\u865A\u62DF\u78C1\u76D8\u683C\u5F0F\u3002\u5B83\u652F\u6301\u81EA\u52A8\u6269\u5BB9\uFF0C\u4F46\u662F\u5E76\u4E0D\u4F1A\u81EA\u52A8\u7F29\u5BB9\u3002</p><p>\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528<code>diskpart</code>\u547D\u4EE4\uFF0C\u624B\u5DE5\u6267\u884C\u7F29\u5BB9\u64CD\u4F5C\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>diskpart
<span class="token comment"># open window Diskpart</span>
<span class="token keyword">select</span> vdisk <span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">&quot;D:\\WSL\\Ubuntu<span class="token entity" title="\\e">\\e</span>xt4.vhdx&quot;</span>
attach vdisk <span class="token builtin class-name">readonly</span>
compact vdisk
detach vdisk
<span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5176\u4E2D<code>D:\\WSL\\Ubuntu\\ext4.vhdx</code>\u4E3AWSL2\u7CFB\u7EDF\u865A\u62DF\u78C1\u76D8\u6587\u4EF6\u8DEF\u5F84\u3002</p>`,9);function W(E,I){const a=r("ExternalLinkIcon");return i(),o(p,null,[u,s("p",null,[d,s("a",b,[m,e(a)]),k]),h,s("p",null,[v,s("a",g,[f,e(a)]),s("a",y,[w,e(a)])]),_,x,s("p",null,[q,s("a",S,[D,e(a)])]),L,s("p",null,[s("a",F,[$,e(a)])]),P],64)}var j=c(l,[["render",W],["__file","Windows\u5B50\u7CFB\u7EDF.html.vue"]]);export{j as default};
